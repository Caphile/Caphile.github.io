---
title: Accomodation
layout: default
parent: Crawling
grand_parent: Studies
---

# 숙박시설 정보 크롤링
{: .no_toc }

<br/>

[네이버 호텔](https://hotels.naver.com/)에서 숙박시설 정보를 가져오기 위한 웹 스크래퍼.

전체 코드와 수집한 데이터는 [GitHub](https://github.com/Caphile/myTools/tree/main/crawling/accomodation)에 저장되어 있음.

코드는 2021.09 기준으로 작성되었으며, 현재는 동작하지 않음.

---

## 배경

<br/>

국내의 숙박시설 정보가 필요하여 검색을 해봤지만 어디에서도 그런 정보를 찾을 수 없어 숙박 상품을 제공하는 웹사이트에서 크롤링하여 데이터를 긁어오기로 했다. ---- 네이버의 서비스를 선택한 이유----------

---

## 




---

## 에러 처리

<br/>
정적 크롤링을 통해 데이터를 가져오면서 처리 시간이 많이 소요되고, 중간에 얻어진 데이터를 안전하게 백업해야 하는 필요성이 있었다. 이러한 상황에서 프로그램이 종료될 때 자동으로 엑셀 파일을 업데이트하는 기능을 atexit 라이브러리를 활용하여 구현했다. 그러나 데이터 크롤링을 다시 시작할 때 중복된 데이터 문제가 발생할 수 있기 때문에 이를 방지하기 위해 삽입정렬과 이진탐색을 활용했다.

삽입정렬을 통해 이미 얻어진 데이터의 식별자(id)를 오름차순으로 정렬된 인덱스에 저장하고, 이진탐색을 활용하여 새로운 데이터의 id가 이미 존재하는지를 로그 시간에 확인한다. 이를 통해 중복된 데이터를 효과적으로 방지하고, 중간에 프로그램이 종료되었을 때에도 안정적으로 중복 처리를 수행할 수 있다. 재시작 시에도 중복을 방지하여 데이터 크롤링이 안정적으로 진행된다.

---

## 결과